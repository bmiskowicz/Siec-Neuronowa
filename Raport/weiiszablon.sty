\NeedsTeXFormat{LaTeX2e} \ProvidesPackage{weiiszablon}[2015/07/01 package <weiiszablon>]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% %
%%% % weiiszablon.sty
%%% %
%%% % Plik stylu dla pracy dyplomowej 
%%% % Wydziału Elektrotechniki i Informatyki
%%% % Politechniki Rzeszowskiej
%%% %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{hyperref}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc} 			% kodowanie 
\usepackage[T1]{fontenc} 				% czcionka Timnes New Roman
\usepackage{courier} 					% czcionka courier
\usepackage{mathptmx} 					% pakiet wymagany do czcionki Times New Roman
\usepackage{graphicx} 					% pakiet graficzny
\usepackage{enumitem} 					% spis treści i listy
\usepackage{indentfirst} 				% aktywne pierwsze wcięcie w akapicie (domyślnie nie jest)
\usepackage{etoolbox} 					% pakiet umożliwiający edycję domyślnych komend
\usepackage{amsmath} 					% pakiet matematyczny
\usepackage{color} 						% podstawowe kolory
\usepackage[a4paper, inner = 1.2cm, outer = 2cm, top = 2cm, bottom = 2cm, bindingoffset = 1.2cm]{geometry}
\usepackage[utf8]{inputenc}

\usepackage{bm}							% dla pogrubionych i pochylonych czcionek w środowisku matematycznym

\usepackage{listings}
% This is the color used for MATLAB comments below
\usepackage{color} %red, green, blue, yellow, cyan, magenta, black, white
\definecolor{MyDarkGreen}{rgb}{0.1,0.5,0}
\definecolor{Purple}{rgb}{0.5,0.0,0.5}
\definecolor{Blue}{rgb}{0.0,0.0,0.9} % color values Red, Green, Blue

% For faster processing, load Matlab syntax for listings
\lstloadlanguages{Matlab}%
\lstset{language=Matlab,                        % Use MATLAB
        frame=single,                           % Single frame around code
        basicstyle=\footnotesize\ttfamily,             % Use small true type font
        keywordstyle=[1]\color{Blue}\bfseries,        % MATLAB functions bold and blue
        keywordstyle=[2]\color{Purple},         % MATLAB function arguments purple
        keywordstyle=[3]\color{Blue}\underbar,  % User functions underlined and blue
        identifierstyle=,                       % Nothing special about identifiers
                                                % Comments small dark green courier
        commentstyle=\usefont{T1}{pcr}{m}{sl}\color{MyDarkGreen}\footnotesize,
        stringstyle=\color{Purple},             % Strings are purple
        showstringspaces=false,                 % Don't put marks in string spaces
        tabsize=3,                              % 5 spaces per tab
        %
        %%% Put standard MATLAB functions not included in the default
        %%% language here
        morekeywords={xlim,ylim,var,alpha,factorial,poissrnd,normpdf,normcdf},
        %
        %%% Put MATLAB function parameters here
        morekeywords=[2]{on, off, interp},
        %
        %%% Put user defined functions here
        morekeywords=[3]{FindESS, homework_example},
        %
        morecomment=[l][\color{Blue}]{...},     % Line continuation (...) like blue comment
        numbers=left,                           % Line numbers on left
        firstnumber=1,                          % Line numbers start with line 1
        numberstyle=\tiny\color{Blue},          % Line numbers are blue
        stepnumber=5,                            % Line numbers go in steps of 5
  		aboveskip=3mm,
  		belowskip=3mm,
  		columns=flexible,
 		breaklines=true,
  		breakatwhitespace=true,
  		literate=
		{ą}{{\k a}}1
		{Ą}{{\k A}}1
		{ż}{{\. z}}1
		{Ż}{{\. Z}}1
		{ź}{{\' z}}1
		{Ź}{{\' Z}}1
		{ć}{{\' c}}1
		{Ć}{{\' C}}1
		{ę}{{\k e}}1
		{Ę}{{\k E}}1
		{ó}{{\' o}}1
		{Ó}{{\' O}}1
		{ń}{{\' n}}1
		{Ń}{{\' N}}1
		{ś}{{\' s}}1
		{Ś}{{\' S}}1
		{ł}{{\l}}1
		{Ł}{{\L}}1
        }

% kropki po numeracji rozdziałów w spisie treści
\usepackage{tocloft} 					
\renewcommand{\cftsecaftersnum}{.}
\renewcommand{\cftsubsecaftersnum}{.}
\renewcommand{\cftsubsubsecaftersnum}{.}
\newcommand{\komentarz}[1]{}
% zmiana odległości przed rozdziałami
\makeatletter 
\newskip\old@cftbeforesecskip
\old@cftbeforesecskip\cftbeforesecskip
\let\old@l@section\l@section
\def\l@section#1#2{\old@l@section{#1}{#2}\cftbeforesecskip0pt}
\makeatother

% zmiana domyślnego formatowania tytułów w spisie treści
%\renewcommand{\cftsecfont}{} 
%\renewcommand\cftsecpagefont{\normalfont}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

\linespread{1.5} % interlinia 1.5				


\lstset{ 
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
  basicstyle=\footnotesize\ttfamily\fontsize{11}{0.8em}\selectfont,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  firstnumber=1,                   % start line enumeration with line 1
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2	                   % sets default tabsize to 2 spaces
  }

% rozmiar czcionki numeru strony
\renewcommand*{\thepage}{\footnotesize\arabic{page}}

%parametry dla kodów źródłowych
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}




%%%%%%%% odsuniecie wypunktowania
\setlist[enumerate,1]{label=\arabic*),leftmargin=1.25cm}
\setlist[itemize,1]{label=-,labelsep=0.4cm,leftmargin=1.25cm}
\setlist[itemize,2]{label=-,labelsep=0.4cm,leftmargin=0.6cm}

% do sztucznego zwiekszenia poziomu zaglebienia srodowiska itemize
% / do przejscia na poziom 2
\makeatletter
\newcommand{\advanceitemizelevel}{\advance\@itemdepth\@ne}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setlength\parindent{1.25cm}		% wcięcie 1.25 cm
\newlength\mylen
\setlength\mylen{\parindent}


\definecolor{niebieski}{RGB}{0,130,150} %kolor niebieski
\definecolor{mygray}{gray}{0.6} 		% kolor szary


\usepackage[compact]{titlesec} 
%zmiana czcionki i odstępów w tytułach rozdziałów

\titleformat{\section}
  {\normalfont\fontsize{16pt}{16pt}\bfseries}
  {\makebox[\mylen][l]{\thesection.}}
  {0pt}
  {}

\titleformat{\subsection}
  {\normalfont\fontsize{14pt}{14pt}\bfseries}
  {\makebox[\mylen][l]{\thesubsection.}}
  {0pt}
  {}

\titleformat{\subsubsection}
  {\normalfont\fontsize{12pt}{12pt}\bfseries}
  {\makebox[\mylen][l]{\thesubsubsection.}}
  {0pt}
  {}

\titlespacing*{\section}{0pt}{*0}{14pt} %zmiana odstępów po tytułach rozdziałów
\titlespacing*{\subsection}{0pt}{14pt}{12pt}
\titlespacing*{\subsubsection}{0pt}{12pt}{0pt}



% komenda dla pustej strony
\newcommand\blankpage{ 
	\null
	\thispagestyle{empty}
	\newpage}

\renewcommand{\figurename}{Rys.} %zmiana domyślnego podpisu dla rysunku

\renewcommand{\thetable}{\arabic{section}.\arabic{table}} %zmiana domyślnej numeracji
\renewcommand{\thefigure}{\arabic{section}.\arabic{figure}}
\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}

\AtBeginEnvironment{figure}{}\AtEndEnvironment{figure}{\addvspace{18pt}} % dodatkowe odstępy przed tabelami i rysunkami
\AtBeginEnvironment{table}{}\AtEndEnvironment{table}{\vspace{18pt}}


% NormalTeXSyntaxOff 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % % 10-cio linijkowy abstract
\usepackage{lmodern}
\usepackage{fancybox,environ}

\NewEnviron{fixedSizeBox}
  {\def\trysize{12pt}\def\tryblskip{12.5pt}%
   \retry}
\makeatletter
\def\retry{%
  \ifdim\trysize<5.5pt
    \WARNING\expandafter\@gobble
  \else
    \expandafter\@firstofone
  \fi
  {\edef\trysize{\the\dimexpr\trysize-0.5pt\relax}%
   \edef\tryblskip{\the\dimexpr\tryblskip-0.5pt\relax}%
   \sbox0{\begin{minipage}{.965\textwidth}
   \setlength{\parindent}{1em}\noindent
   \begingroup\edef\x{\endgroup
     \noexpand\fontsize{\trysize}{\tryblskip}\noexpand\selectfont}\x
   \BODY\end{minipage}}%
  }%
  \dimen0=\dimexpr\ht0+\dp0\relax
  \ifdim\dimen0>.3\textwidth
    \expandafter\retry
  \else
    \expandafter\outputoval
  \fi}
\makeatletter

\def\WARNING{\sbox{0}{WARNING}}

\def\outputoval{\mbox{\begin{minipage}[l][.27\textwidth]{1\textwidth}  
\usebox{0}\end{minipage}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newenvironment{example}{ 
\textbf{\textcolor{mygray}{Przykład:}}\hspace{0.85cm}
\ %\quad
}{%

}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\department[1]{\renewcommand\@department{#1}}
\newcommand\@department{\@latex@error{No \noexpand\department given}\@ehc}

\newcommand\departmentEN[1]{\renewcommand\@departmentEN{#1}}
\newcommand\@departmentEN{\@latex@error{No \noexpand\departmentEN given}\@ehc}

\renewcommand\author[1]{\renewcommand\@author{#1}}
\renewcommand\@author{\@latex@error{No \noexpand\author given}\@ehc}

\newcommand\titleEN[1]{\renewcommand\@titleEN{#1}}
\newcommand\@titleEN{\@latex@error{No \noexpand\titleEN given}\@ehc}

\renewcommand\abstract[1]{\renewcommand\@abstract{#1}}
\newcommand\@abstract{\@latex@error{No \noexpand\abstract given}\@ehc}

\newcommand\abstractEN[1]{\renewcommand\@abstractEN{#1}}
\newcommand\@abstractEN{\@latex@error{No \noexpand\abstractEN given}\@ehc}

\newcommand\studentID[1]{\renewcommand\@studentID{#1}}
\newcommand\@studentID{\@latex@error{No \noexpand\studentID given}\@ehc}


\newcommand\grupa[1]{\renewcommand\@grupa{#1}}
\newcommand\@grupa{\@latex@error{No \noexpand\grupa given}\@ehc}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% strona tytułowa pracy
\renewcommand{\maketitle}{
\begin{titlepage}
\begin{center}
\vskip5cm
\includegraphics[width=12.5cm]{auxiliary/logoweii.jpg}
\\[5cm]
{\Huge \@titleEN}
\\[1cm]
{\LARGE \@title}
\\[4cm]
\end{center}
~\\[0.5cm]
\begin{flushright}
{\Large Autor: \@author}
\\{\Large Nr albumu: \@studentID}
\\{\Large Grupa: \@grupa}
~\\
\end{flushright}
~\\[0.5cm]
\begin{center}
{\Large Rzeszów, \the\year}
\end{center}
\end{titlepage}
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\endinput
